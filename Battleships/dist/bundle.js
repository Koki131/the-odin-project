(()=>{"use strict";var t={208:(t,i,e)=>{e.d(i,{A:()=>c});var r=e(601),s=e.n(r),n=e(314),o=e.n(n)()(s());o.push([t.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n#drop-zone > * {\n    -webkit-user-select: none; /* Safari */\n    -ms-user-select: none; /* IE 10 and IE 11 */\n    user-select: none; /* Standard syntax */\n}\n\n#drop-zone {\n    display: grid;\n    top: 50%;\n    left: 50%;\n    margin: 0;\n    transform: translate(-50%, -50%);\n    position: absolute;\n}\n\n#drop-zone .row {\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n}\n\n\n/* EXTEND DOWNWARDS */\n\n\n.box {\n    width: 2.5rem;\n    height: 2.5rem;\n    border: 0.1px solid rgba(0, 0, 0, 0.2);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n",""]);const c=o},314:t=>{t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",r=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),r&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),r&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,r,s,n){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var c=0;c<this.length;c++){var h=this[c][0];null!=h&&(o[h]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);r&&o[l[0]]||(void 0!==n&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=n),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),i.push(l))}},i}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var i=[];function e(t){for(var e=-1,r=0;r<i.length;r++)if(i[r].identifier===t){e=r;break}return e}function r(t,r){for(var n={},o=[],c=0;c<t.length;c++){var h=t[c],a=r.base?h[0]+r.base:h[0],l=n[a]||0,u="".concat(a," ").concat(l);n[a]=l+1;var d=e(u),p={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==d)i[d].references++,i[d].updater(p);else{var f=s(p,r);r.byIndex=c,i.splice(c,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function s(t,i){var e=i.domAPI(i);return e.update(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,s){var n=r(t=t||[],s=s||{});return function(t){t=t||[];for(var o=0;o<n.length;o++){var c=e(n[o]);i[c].references--}for(var h=r(t,s),a=0;a<n.length;a++){var l=e(n[a]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=h}}},659:t=>{var i={};t.exports=function(t,e){var r=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},540:t=>{t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},56:(t,i,e)=>{t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var s=void 0!==e.layer;s&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,s&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var n=e.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),i.styleTagTransform(r,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}},113:t=>{t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}}},i={};function e(r){var s=i[r];if(void 0!==s)return s.exports;var n=i[r]={id:r,exports:{}};return t[r](n,n.exports,e),n.exports}e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.nc=void 0;var r=e(72),s=e.n(r),n=e(825),o=e.n(n),c=e(659),h=e.n(c),a=e(56),l=e.n(a),u=e(540),d=e.n(u),p=e(113),f=e.n(p),y=e(208),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=h().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=d(),s()(y.A,g),y.A&&y.A.locals&&y.A.locals;class m{constructor(t,i,e,r,s,n,o,c,h,a,l,u){this.id=t,this.r=i,this.c=e,this.gridPositionX=r,this.gridPositionY=s,this.noOfTiles=n,this.orientation=o,this.currPositionX=c,this.currPositionY=h,this.occupiesTotal=[],this.shipOccupies=[],this.arr=a,this.currShip=l,this.ships=u}setTotal=t=>{this.occupiesTotal=t};setShipTotal=t=>{this.shipOccupies=t};sleep=t=>new Promise((i=>setTimeout(i,t)));updateClosestPosition=t=>{};dragstartHandler=async t=>{if(t.target.id===this.id){this.unoccupyTotal();const i=t.target.getBoundingClientRect();this.currPositionX=Math.abs(i.x-t.clientX),this.currPositionY=Math.abs(i.y-t.clientY),t.dataTransfer.setData("text/plain",t.target.id),this.currShip[0]=this,await this.sleep(0),t.target.style.zIndex=-1,t.target.style.visibility="hidden"}};dragendHandler=t=>{t.target.id===this.id&&(t.target.style.zIndex=1,t.target.style.visibility="visible")};unoccupyShipTiles=()=>{for(let t of this.shipOccupies)this.arr[t][2]=!1;this.shipOccupies=[]};occupyShip=()=>{this.unoccupyShipTiles();const t=Number.parseInt(this.r),i=Number.parseInt(this.c);if("H"===this.orientation)for(let e=i;e<i+this.noOfTiles;e++)this.shipOccupies.push(t+","+e),this.arr[t+","+e][2]=!0;else for(let e=t;e<t+this.noOfTiles;e++)this.shipOccupies.push(e+","+i),this.arr[e+","+i][2]=!0};occupyTotalBoard=()=>{for(let t of this.occupiesTotal)this.arr[t][3]=!0};unoccupyShipTilesBoard=()=>{for(let t of this.shipOccupies)this.arr[t][2]=!1};unoccupyTotalBoard=()=>{for(let t of this.occupiesTotal)this.arr[t][3]=!1};unoccupyTotal=()=>{for(let t of this.occupiesTotal)this.arr[t][3]=!1;this.occupiesTotal=[]};canPlace=()=>{if(this.checkOutOfBounds())return!1;const t=Number.parseInt(this.r),i=Number.parseInt(this.c);if("H"===this.orientation){if(i-1>=0&&this.arr[t+","+(i-1)][2])return!1;if(i+this.noOfTiles<10&&this.arr[t+","+(i+this.noOfTiles)][2])return!1;for(let e=i-1;e<i+this.noOfTiles+1;e++)if(!(e<0||e>=10)){if(t-1>=0&&this.arr[t-1+","+e][2])return!1;if(t+1<10&&this.arr[t+1+","+e][2])return!1;if(this.arr[t+","+e][2])return!1}}else{if(t-1>=0&&this.arr[t-1+","+i][2])return!1;if(t+this.noOfTiles<10&&this.arr[t+this.noOfTiles+","+i][2])return!1;for(let e=t-1;e<t+this.noOfTiles+1;e++)if(!(e<0||e>=10)){if(i-1>=0&&this.arr[e+","+(i-1)][2])return!1;if(i+1<10&&this.arr[e+","+(i+1)][2])return!1;if(this.arr[e+","+i][2])return!1}}return!0};occupyTotal=()=>{this.unoccupyTotal();const t=Number.parseInt(this.r),i=Number.parseInt(this.c);if("H"===this.orientation){i-1>=0&&this.occupiesTotal.push(t+","+(i-1)),i+this.noOfTiles<10&&this.occupiesTotal.push(t+","+(i+this.noOfTiles));for(let e=i-1;e<i+this.noOfTiles+1;e++)e<0||e>=10||(t-1>=0&&this.occupiesTotal.push(t-1+","+e),t+1<10&&this.occupiesTotal.push(t+1+","+e),this.occupiesTotal.push(t+","+e))}else{t-1>=0&&this.occupiesTotal.push(t-1+","+i),t+this.noOfTiles<10&&this.occupiesTotal.push(t+this.noOfTiles+","+i);for(let e=t-1;e<t+this.noOfTiles+1;e++)e<0||e>=10||(i-1>=0&&this.occupiesTotal.push(e+","+(i-1)),i+1<10&&this.occupiesTotal.push(e+","+(i+1)),this.occupiesTotal.push(e+","+i))}};unoccupyHelper=t=>{t.unoccupyShipTiles(),t.unoccupyTotal()};occupyHelper=t=>{t.occupyTotal(),t.occupyTotalBoard(),t.occupyShip()};checkClickValidity=t=>{let i=t.orientation;if("V"===t.orientation){if(t.unoccupyTotalBoard(),t.unoccupyShipTilesBoard(),t.orientation="H",t.occupyTotal(),!t.canPlace())return t.unoccupyTotal(),t=i,!1}else if(t.unoccupyTotalBoard(),t.unoccupyShipTilesBoard(),t.orientation="V",t.occupyTotal(),!t.canPlace())return t.unoccupyTotal(),t=i,!1;return t.orientation=i,this.revertStateOfBoard(),!0};revertStateOfBoard=()=>{for(const t of Object.values(this.ships))t.occupyTotal(),t.occupyTotalBoard()}}class b extends m{constructor(t,i,e,r,s,n,o,c,h,a,l,u){super(t,i,e,r,s,n,o,c,h,a,l,u)}clickHandler=()=>{const t=document.getElementById(this.id),i=t.parentElement;this.checkClickValidity(this)||this.revertStateOfBoard(),"V"===this.orientation&&this.gridPositionY>=0&&this.gridPositionY<=240?(t.style.height="100%",t.style.width="10rem",i.style.flexDirection="column",t.style.left=0,t.style.top="",this.orientation="H"):"H"===this.orientation&&this.gridPositionX>=0&&this.gridPositionX<=240&&(t.style.height="10rem",t.style.width="100%",t.style.top=0,t.style.left="",i.style.flexDirection="row",this.orientation="V"),this.occupyHelper(this)};updateClosestPosition=t=>{"H"===this.orientation?this.currPositionX>=40&&this.currPositionX<80?t[1]-=40:this.currPositionX>=80&&this.currPositionX<120?t[1]-=80:this.currPositionX>=120&&this.currPositionX<160&&(t[1]-=120):this.currPositionY>=40&&this.currPositionY<80?t[0]-=40:this.currPositionY>=80&&this.currPositionY<120?t[0]-=80:this.currPositionY>=120&&this.currPositionY<160&&(t[0]-=120)};createShipElement=()=>{const t=document.getElementById(this.r+","+this.c),i=document.createElement("p");i.style=`border: 2px solid blue; display: flex; align-items: center;justify-content: center; cursor: move; position: absolute; top: 0; left: 0; ${"H"===this.orientation?"width: 10rem; height: 100%;":"height: 10rem; width: 100%;"}\n        z-index: 999; background-color: rgba(0, 0, 0, 0.2)`,i.draggable=!0,i.id=this.id,t.appendChild(i),i.addEventListener("dragstart",this.dragstartHandler),i.addEventListener("dragend",this.dragendHandler),i.addEventListener("click",this.clickHandler)};checkOutOfBounds=()=>{const t=Number.parseInt(this.r),i=Number.parseInt(this.c);return t<0||t>9||i<0||i>9||"H"===this.orientation&&i+3>9||"V"===this.orientation&&t+3>9}}class v extends m{constructor(t,i,e,r,s,n,o,c,h,a,l,u){super(t,i,e,r,s,n,o,c,h,a,l,u)}clickHandler=()=>{const t=document.getElementById(this.id),i=t.parentElement;this.checkClickValidity(this)||this.revertStateOfBoard(),"V"===this.orientation&&this.gridPositionY>=0&&this.gridPositionY<=280?(t.style.height="100%",t.style.width="7.5rem",i.style.flexDirection="column",t.style.left=0,t.style.top="",this.orientation="H"):"H"===this.orientation&&this.gridPositionX>=0&&this.gridPositionX<=280&&(t.style.height="7.5rem",t.style.width="100%",t.style.top=0,t.style.left="",i.style.flexDirection="row",this.orientation="V"),this.occupyHelper(this)};updateClosestPosition=t=>{"H"===this.orientation?this.currPositionX>=40&&this.currPositionX<80?t[1]-=40:this.currPositionX>=80&&this.currPositionX<120&&(t[1]-=80):this.currPositionY>=40&&this.currPositionY<80?t[0]-=40:this.currPositionY>=80&&this.currPositionY<120&&(t[0]-=80)};createShipElement=()=>{const t=document.getElementById(this.r+","+this.c),i=document.createElement("p");i.style=`border: 2px solid blue; display: flex; align-items: center;justify-content: center; cursor: move; position: absolute; top: 0; left: 0; ${"H"===this.orientation?"width: 7.5rem; height: 100%;":"height: 7.5rem; width: 100%;"}\n        z-index: 999; background-color: rgba(0, 0, 0, 0.2)`,i.draggable=!0,i.id=this.id,t.appendChild(i),i.addEventListener("dragstart",this.dragstartHandler),i.addEventListener("dragend",this.dragendHandler),i.addEventListener("click",this.clickHandler)};checkOutOfBounds=()=>{const t=Number.parseInt(this.r),i=Number.parseInt(this.c);return t<0||t>9||i<0||i>9||"H"===this.orientation&&i+2>9||"V"===this.orientation&&t+2>9}}class S extends m{constructor(t,i,e,r,s,n,o,c,h,a,l,u){super(t,i,e,r,s,n,o,c,h,a,l,u)}clickHandler=()=>{const t=document.getElementById(this.id),i=t.parentElement;this.checkClickValidity(this)||this.revertStateOfBoard(),"V"===this.orientation&&this.gridPositionY>=0&&this.gridPositionY<=320?(t.style.height="100%",t.style.width="5rem",i.style.flexDirection="column",t.style.left=0,t.style.top="",this.orientation="H"):"H"===this.orientation&&this.gridPositionX>=0&&this.gridPositionX<=320&&(t.style.height="5rem",t.style.width="100%",t.style.top=0,t.style.left="",i.style.flexDirection="row",this.orientation="V"),this.occupyHelper(this)};updateClosestPosition=t=>{"H"===this.orientation?this.currPositionX>=40&&this.currPositionX<80&&(t[1]-=40):this.currPositionY>=40&&this.currPositionY<80&&(t[0]-=40)};createShipElement=()=>{const t=document.getElementById(this.r+","+this.c),i=document.createElement("p");i.style=`border: 2px solid blue; display: flex; align-items: center;justify-content: center; cursor: move; position: absolute; top: 0; left: 0; ${"H"===this.orientation?"width: 5rem; height: 100%;":"height: 5rem; width: 100%;"}\n        z-index: 999; background-color: rgba(0, 0, 0, 0.2)`,i.draggable=!0,i.id=this.id,t.appendChild(i),i.addEventListener("dragstart",this.dragstartHandler),i.addEventListener("dragend",this.dragendHandler),i.addEventListener("click",this.clickHandler)};checkOutOfBounds=()=>{const t=Number.parseInt(this.r),i=Number.parseInt(this.c);return t<0||t>9||i<0||i>9||"H"===this.orientation&&i+1>9||"V"===this.orientation&&t+1>9}}class P extends m{constructor(t,i,e,r,s,n,o,c,h,a,l,u){super(t,i,e,r,s,n,o,c,h,a,l,u)}clickHandler=()=>{const t=document.getElementById(this.id),i=t.parentElement;this.checkClickValidity(this)||this.revertStateOfBoard(),"V"===this.orientation&&this.gridPositionY>=0&&this.gridPositionY<=200?(t.style.height="100%",t.style.width="2.5rem",i.style.flexDirection="column",t.style.left=0,t.style.top="",this.orientation="h"):"H"===this.orientation&&this.gridPositionX>=0&&this.gridPositionX<=200&&(t.style.height="2.5rem",t.style.width="100%",t.style.top=0,t.style.left="",i.style.flexDirection="row",this.orientation="V"),this.occupyHelper(this)};createShipElement=()=>{const t=document.getElementById(this.r+","+this.c),i=document.createElement("p");i.style=`border: 2px solid blue; display: flex; align-items: center;justify-content: center; cursor: move; position: absolute; top: 0; left: 0; ${"H"===this.orientation?"width: 2.5rem; height: 100%;":"height: 2.5rem; width: 100%;"}\n        z-index: 999; background-color: rgba(0, 0, 0, 0.2)`,i.draggable=!0,i.id=this.id,t.appendChild(i),i.addEventListener("dragstart",this.dragstartHandler),i.addEventListener("dragend",this.dragendHandler),i.addEventListener("click",this.clickHandler)};checkOutOfBounds=()=>{const t=Number.parseInt(this.r),i=Number.parseInt(this.c);return t<0||t>9||i<0||i>9}}const T=document.querySelector("#drop-zone"),H=new class{constructor(t){this.board=t,this.arr=[],this.ships=[],this.closest=[],this.currShip=[]}createBoard=()=>{for(let t=0;t<10;t++){const i=document.createElement("div");i.className="row";for(let e=0;e<10;e++){const r=document.createElement("div");r.addEventListener("dragover",this.dragoverHandler),r.addEventListener("drop",this.dropHandler),r.draggable=!1,r.className="box",r.id=t+","+e,i.appendChild(r)}this.board.appendChild(i)}};dragoverHandler=t=>{t.preventDefault();const i=t.target.getBoundingClientRect(),e=this.board.getBoundingClientRect(),r=i.top-e.top,s=i.left-e.left;this.closest[0]=r,this.closest[1]=s};dropHandler=t=>{if(t.preventDefault(),null!==this.currShip[0]){const i=document.getElementById(this.currShip[0].id);i.style.zIndex=1,i.style.visibility="visible";const e=t.dataTransfer.getData("text/plain");if(e!==this.currShip[0].id)return;const r=document.querySelector("#"+e),s=t.target.id.split(","),n=this.currShip[0].r,o=this.currShip[0].c,c=this.currShip[0].gridPositionX,h=this.currShip[0].gridPositionY;this.updateClosest(s);const a=document.getElementById(this.getPlacement());if(this.currShip[0].checkOutOfBounds())return;if(this.currShip[0].unoccupyShipTiles(),!this.currShip[0].canPlace())return this.currShip[0].r=n,this.currShip[0].c=o,this.currShip[0].gridPositionX=c,this.currShip[0].gridPositionY=h,void this.currShip[0].occupyHelper(this.currShip[0]);this.currShip[0].occupyHelper(this.currShip[0]),a.appendChild(r)}};updateClosest=t=>{this.currShip[0].r=t[0],this.currShip[0].c=t[1],this.currShip[0].updateClosestPosition(this.closest)};getPlacement=()=>{let t=Number.MAX_VALUE;for(let i of Object.keys(this.arr)){const e=this.arr[i],r=Math.abs(e[0]-this.closest[0])+Math.abs(e[1]-this.closest[1]),s=i.split(",");r<t&&(t=r,this.currShip[0].gridPositionX=e[0],this.currShip[0].gridPositionY=e[1],this.currShip[0].r=s[0],this.currShip[0].c=s[1])}return this.currShip[0].r+","+this.currShip[0].c};addCoordinates=()=>{for(let t=0;t<10;t++)for(let i=0;i<10;i++){const e=document.getElementById(t+","+i),r=e.getBoundingClientRect(),s=this.board.getBoundingClientRect(),n=r.top-s.top,o=r.left-s.left;this.arr[e.id]=[n,o,!1,!1]}};populateBoard=()=>{const t=new b("carrier",0,0,0,0,4,"",0,0,this.arr,this.currShip,this.ships),i=new v("cruiser1",0,0,0,0,3,"",0,0,this.arr,this.currShip,this.ships),e=new v("cruiser2",0,0,0,0,3,"",0,0,this.arr,this.currShip,this.ships),r=new S("destroyer1",0,0,0,0,2,"",0,0,this.arr,this.currShip,this.ships),s=new S("destroyer2",0,0,0,0,2,"",0,0,this.arr,this.currShip,this.ships),n=new S("destroyer3",0,0,0,0,2,"",0,0,this.arr,this.currShip,this.ships),o=new P("pb1",0,0,0,0,1,"",0,0,this.arr,this.currShip,this.ships),c=new P("pb2",0,0,0,0,1,"",0,0,this.arr,this.currShip,this.ships),h=new P("pb3",0,0,0,0,1,"",0,0,this.arr,this.currShip,this.ships),a=new P("pb4",0,0,0,0,1,"",0,0,this.arr,this.currShip,this.ships);this.ships.carrier=t,this.ships.cruiser1=i,this.ships.cruiser2=e,this.ships.destroyer1=r,this.ships.destroyer2=s,this.ships.destroyer3=n,this.ships.pb1=o,this.ships.pb2=c,this.ships.pb3=h,this.ships.pb4=a;for(const t of Object.values(this.ships)){let i=!1;for(;!i;)if(t.r=Math.round(10*Math.random()),t.c=Math.round(10*Math.random()),t.orientation=Math.random()<.5?"V":"H",t.canPlace()){const e=t.r+","+t.c,r=this.arr[e];t.gridPositionX=r[0],t.gridPositionY=r[1],t.occupyHelper(t),t.createShipElement(),i=!0}}}}(T);H.createBoard(),H.addCoordinates(),H.populateBoard()})();